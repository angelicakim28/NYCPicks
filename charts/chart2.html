<!DOCTYPE html>
<html>
<head>
  <style>
    .vega-actions a {
        margin-right: 12px;
        color: #757575;
        font-weight: normal;
        font-size: 13px;
    }
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@4"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@2.6.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@3"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "vconcat": [{"data": {"name": "data-84cebe73c3cd1017f3b71432f042c2e9"}, "mark": "line", "encoding": {"color": {"type": "nominal", "field": "Type", "scale": {"domain": ["Taxi", "Uber"], "range": ["gold", "black"]}}, "tooltip": [{"type": "quantitative", "field": "Hour"}, {"type": "nominal", "field": "Type"}, {"type": "quantitative", "field": "AverageHourCount"}], "x": {"type": "nominal", "field": "Hour"}, "y": {"type": "quantitative", "field": "AverageHourCount"}}, "selection": {"selector039": {"type": "interval", "encodings": ["x"]}}, "title": "Average number of pick-ups by hour", "width": 800}, {"layer": [{"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Type"}, "x": {"type": "quantitative", "aggregate": "sum", "field": "AverageHourCount"}, "y": {"type": "nominal", "field": "Type"}}, "title": "Average total number of pick-ups"}, {"mark": {"type": "text", "align": "left", "baseline": "middle", "dx": 3}, "encoding": {"color": {"type": "nominal", "field": "Type"}, "text": {"type": "quantitative", "aggregate": "sum", "field": "AverageHourCount"}, "x": {"type": "quantitative", "aggregate": "sum", "field": "AverageHourCount"}, "y": {"type": "nominal", "field": "Type"}}, "title": "Average total number of pick-ups"}], "transform": [{"filter": {"selection": "selector039"}}], "width": 600}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Type"}, "tooltip": [{"type": "quantitative", "field": "Hour"}, {"type": "nominal", "field": "Type"}, {"type": "quantitative", "field": "HourProp"}], "x": {"type": "nominal", "field": "Hour"}, "y": {"type": "quantitative", "field": "HourProp", "stack": "normalize"}}, "title": "Proportion of taxi and uber pick-ups", "transform": [{"filter": {"selection": "selector039"}}]}], "center": true, "data": {"name": "data-84cebe73c3cd1017f3b71432f042c2e9"}, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json", "datasets": {"data-84cebe73c3cd1017f3b71432f042c2e9": [{"Hour": 0, "Type": "Taxi", "HourCount": 181583, "AverageHourCount": 992.2568306010929, "HourTotal": 1559.6666666666667, "HourProp": 0.6361980106440006}, {"Hour": 0, "Type": "Uber", "HourCount": 103836, "AverageHourCount": 567.4098360655738, "HourTotal": 1559.6666666666667, "HourProp": 0.36380198935599944}, {"Hour": 1, "Type": "Taxi", "HourCount": 132462, "AverageHourCount": 723.8360655737705, "HourTotal": 1091.1967213114754, "HourProp": 0.663341496026321}, {"Hour": 1, "Type": "Uber", "HourCount": 67227, "AverageHourCount": 367.3606557377049, "HourTotal": 1091.1967213114754, "HourProp": 0.3366585039736791}, {"Hour": 2, "Type": "Taxi", "HourCount": 97602, "AverageHourCount": 533.344262295082, "HourTotal": 783.9726775956284, "HourProp": 0.6803097576446152}, {"Hour": 2, "Type": "Uber", "HourCount": 45865, "AverageHourCount": 250.62841530054644, "HourTotal": 783.9726775956284, "HourProp": 0.31969024235538485}, {"Hour": 3, "Type": "Taxi", "HourCount": 70130, "AverageHourCount": 383.224043715847, "HourTotal": 647.0874316939892, "HourProp": 0.5922291562866817}, {"Hour": 3, "Type": "Uber", "HourCount": 48287, "AverageHourCount": 263.8633879781421, "HourTotal": 647.0874316939892, "HourProp": 0.4077708437133182}, {"Hour": 4, "Type": "Taxi", "HourCount": 52390, "AverageHourCount": 286.2841530054645, "HourTotal": 588.0874316939891, "HourProp": 0.48680542650065045}, {"Hour": 4, "Type": "Uber", "HourCount": 55230, "AverageHourCount": 301.8032786885246, "HourTotal": 588.0874316939891, "HourProp": 0.5131945734993496}, {"Hour": 5, "Type": "Taxi", "HourCount": 47675, "AverageHourCount": 260.5191256830601, "HourTotal": 719.2021857923497, "HourProp": 0.36223350099533486}, {"Hour": 5, "Type": "Uber", "HourCount": 83939, "AverageHourCount": 458.6830601092896, "HourTotal": 719.2021857923497, "HourProp": 0.6377664990046652}, {"Hour": 6, "Type": "Taxi", "HourCount": 99552, "AverageHourCount": 544.0, "HourTotal": 1326.5846994535518, "HourProp": 0.4100755875023171}, {"Hour": 6, "Type": "Uber", "HourCount": 143213, "AverageHourCount": 782.5846994535519, "HourTotal": 1326.5846994535518, "HourProp": 0.589924412497683}, {"Hour": 7, "Type": "Taxi", "HourCount": 165663, "AverageHourCount": 905.2622950819672, "HourTotal": 1960.4207650273224, "HourProp": 0.4617693870781615}, {"Hour": 7, "Type": "Uber", "HourCount": 193094, "AverageHourCount": 1055.1584699453551, "HourTotal": 1960.4207650273224, "HourProp": 0.5382306129218384}, {"Hour": 8, "Type": "Taxi", "HourCount": 201416, "AverageHourCount": 1100.6338797814208, "HourTotal": 2141.639344262295, "HourProp": 0.5139212084098796}, {"Hour": 8, "Type": "Uber", "HourCount": 190504, "AverageHourCount": 1041.0054644808743, "HourTotal": 2141.639344262295, "HourProp": 0.48607879159012046}, {"Hour": 9, "Type": "Taxi", "HourCount": 208204, "AverageHourCount": 1137.7267759562842, "HourTotal": 2011.863387978142, "HourProp": 0.5655089618682623}, {"Hour": 9, "Type": "Uber", "HourCount": 159967, "AverageHourCount": 874.1366120218579, "HourTotal": 2011.863387978142, "HourProp": 0.4344910381317377}, {"Hour": 10, "Type": "Taxi", "HourCount": 202316, "AverageHourCount": 1105.551912568306, "HourTotal": 1975.2131147540986, "HourProp": 0.5597127238120532}, {"Hour": 10, "Type": "Uber", "HourCount": 159148, "AverageHourCount": 869.6612021857924, "HourTotal": 1975.2131147540986, "HourProp": 0.4402872761879468}, {"Hour": 11, "Type": "Taxi", "HourCount": 209987, "AverageHourCount": 1147.4699453551912, "HourTotal": 2052.950819672131, "HourProp": 0.558936889456733}, {"Hour": 11, "Type": "Uber", "HourCount": 165703, "AverageHourCount": 905.4808743169399, "HourTotal": 2052.950819672131, "HourProp": 0.44106311054326713}, {"Hour": 12, "Type": "Taxi", "HourCount": 218058, "AverageHourCount": 1191.5737704918033, "HourTotal": 2123.0054644808743, "HourProp": 0.5612674062443695}, {"Hour": 12, "Type": "Uber", "HourCount": 170452, "AverageHourCount": 931.431693989071, "HourTotal": 2123.0054644808743, "HourProp": 0.4387325937556305}, {"Hour": 13, "Type": "Taxi", "HourCount": 215758, "AverageHourCount": 1179.0054644808743, "HourTotal": 2249.3715846994537, "HourProp": 0.524148821164381}, {"Hour": 13, "Type": "Uber", "HourCount": 195877, "AverageHourCount": 1070.3661202185792, "HourTotal": 2249.3715846994537, "HourProp": 0.4758511788356189}, {"Hour": 14, "Type": "Taxi", "HourCount": 222956, "AverageHourCount": 1218.3387978142077, "HourTotal": 2478.5846994535523, "HourProp": 0.4915461626479063}, {"Hour": 14, "Type": "Uber", "HourCount": 230625, "AverageHourCount": 1260.2459016393443, "HourTotal": 2478.5846994535523, "HourProp": 0.5084538373520936}, {"Hour": 15, "Type": "Taxi", "HourCount": 209910, "AverageHourCount": 1147.049180327869, "HourTotal": 2652.327868852459, "HourProp": 0.43246884889240517}, {"Hour": 15, "Type": "Uber", "HourCount": 275466, "AverageHourCount": 1505.27868852459, "HourTotal": 2652.327868852459, "HourProp": 0.567531151107595}, {"Hour": 16, "Type": "Taxi", "HourCount": 178788, "AverageHourCount": 976.983606557377, "HourTotal": 2689.551912568306, "HourProp": 0.3632514405064731}, {"Hour": 16, "Type": "Uber", "HourCount": 313400, "AverageHourCount": 1712.568306010929, "HourTotal": 2689.551912568306, "HourProp": 0.6367485594935269}, {"Hour": 17, "Type": "Taxi", "HourCount": 217281, "AverageHourCount": 1187.327868852459, "HourTotal": 3024.431693989071, "HourProp": 0.39257883430206825}, {"Hour": 17, "Type": "Uber", "HourCount": 336190, "AverageHourCount": 1837.103825136612, "HourTotal": 3024.431693989071, "HourProp": 0.6074211656979318}, {"Hour": 18, "Type": "Taxi", "HourCount": 266630, "AverageHourCount": 1456.9945355191257, "HourTotal": 3231.196721311476, "HourProp": 0.45091483471416804}, {"Hour": 18, "Type": "Uber", "HourCount": 324679, "AverageHourCount": 1774.2021857923498, "HourTotal": 3231.196721311476, "HourProp": 0.549085165285832}, {"Hour": 19, "Type": "Taxi", "HourCount": 280920, "AverageHourCount": 1535.0819672131147, "HourTotal": 3144.44262295082, "HourProp": 0.4881888942761364}, {"Hour": 19, "Type": "Uber", "HourCount": 294513, "AverageHourCount": 1609.360655737705, "HourTotal": 3144.44262295082, "HourProp": 0.5118111057238636}, {"Hour": 20, "Type": "Taxi", "HourCount": 267459, "AverageHourCount": 1461.5245901639344, "HourTotal": 3016.7377049180327, "HourProp": 0.48447188092663335}, {"Hour": 20, "Type": "Uber", "HourCount": 284604, "AverageHourCount": 1555.2131147540983, "HourTotal": 3016.7377049180327, "HourProp": 0.5155281190733666}, {"Hour": 21, "Type": "Taxi", "HourCount": 264098, "AverageHourCount": 1443.1584699453551, "HourTotal": 2981.191256830601, "HourProp": 0.48408785133752963}, {"Hour": 21, "Type": "Uber", "HourCount": 281460, "AverageHourCount": 1538.032786885246, "HourTotal": 2981.191256830601, "HourProp": 0.5159121486624704}, {"Hour": 22, "Type": "Taxi", "HourCount": 257897, "AverageHourCount": 1409.2732240437158, "HourTotal": 2730.9016393442625, "HourProp": 0.5160468629628517}, {"Hour": 22, "Type": "Uber", "HourCount": 241858, "AverageHourCount": 1321.6284153005465, "HourTotal": 2730.9016393442625, "HourProp": 0.4839531370371482}, {"Hour": 23, "Type": "Taxi", "HourCount": 231265, "AverageHourCount": 1263.7431693989072, "HourTotal": 2188.2786885245905, "HourProp": 0.5775055873943389}, {"Hour": 23, "Type": "Uber", "HourCount": 169190, "AverageHourCount": 924.5355191256831, "HourTotal": 2188.2786885245905, "HourProp": 0.422494412605661}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));

  </script>
</body>
</html>